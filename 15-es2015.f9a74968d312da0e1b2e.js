(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"vRU+":function(n,l,o){"use strict";o.r(l);var t=o("8Y7J"),u=o("mrSG"),e=o("ZZ/e"),i=o("ne0+"),s=o("7ErT"),a=o("IheW");class r{constructor(n,l,o,t,u){this.loadingCtrl=n,this.toastCtrl=l,this.authService=o,this.router=t,this.constantService=u,this.userToken={password:"",username:""},this.username="tourist",this.password="Admin123456","yes"===localStorage.getItem("login")&&this.router.navigateByUrl("home").then(n=>{console.log("\u5df2\u7ecf\u767b\u9646\uff0c\u8df3\u8f6c\u5230\u4e3b\u9875\u9762"),console.log(n)})}ngOnInit(){}doLogin(){console.log(this.username),console.log(this.password),null!=this.username?null!=this.password?(this.userToken.username=this.username,this.userToken.password=this.password,this.authService.createToken(this.userToken).subscribe(n=>{console.log(n),localStorage.setItem("access_token",n.token),this.constantService.headers=new a.g({"Content-Type":"application/json",Accept:"application/json",Authorization:"JWT "+localStorage.getItem("access_token")}),localStorage.setItem("login","yes"),"tourist"===this.userToken.username?localStorage.setItem("tourist","yes"):localStorage.setItem("tourist","no"),this.router.navigateByUrl("tutorial").then(n=>{console.log("\u5bfc\u822a\u5230\u5ba3\u4f20\u9875"),console.log(n)})},n=>{this.presentToast("\u7528\u6237\u540d\u6216\u5bc6\u7801\u8f93\u5165\u9519\u8bef").then(),console.log("\u767b\u9646\u4e0d\u5408\u6cd5"),console.log(n)})):this.presentToast("\u8bf7\u8f93\u5165\u5bc6\u7801").then():this.presentToast("\u8bf7\u8f93\u5165\u7528\u6237\u540d").then()}presentToast(n){return u.b(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:n,duration:1e3})).present()}))}}class b{}var g=o("pMnS"),c=o("oBZk"),h=o("TSSN"),p=o("s7LF"),d=o("iInd"),C=t.pb({encapsulation:0,styles:[[".login-logo-box[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:center;justify-content:center;justify-items:center;padding:10px 0}.login-logo[_ngcontent-%COMP%]{width:60%;align-content:center}.login-password[_ngcontent-%COMP%], .login-username[_ngcontent-%COMP%]{padding:4px 8px}.login-btn[_ngcontent-%COMP%]{margin:20px 8px 10px;padding:0 8px}"]],data:{}});function m(n){return t.Kb(0,[(n()(),t.rb(0,0,null,null,12,"ion-header",[],null,null,null,c.K,c.j)),t.qb(1,49152,null,0,e.A,[t.h,t.k,t.x],null,null),(n()(),t.rb(2,0,null,0,10,"ion-toolbar",[["color","primary"]],null,null,null,c.bb,c.A)),t.qb(3,49152,null,0,e.Bb,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.rb(4,0,null,0,3,"ion-title",[["class","ion-text-center"]],null,null,null,c.ab,c.z)),t.qb(5,49152,null,0,e.zb,[t.h,t.k,t.x],null,null),(n()(),t.Ib(6,0,["",""])),t.Eb(131072,h.i,[h.j,t.h]),(n()(),t.rb(8,0,null,0,4,"ion-buttons",[],null,null,null,c.E,c.d)),t.qb(9,49152,null,0,e.k,[t.h,t.k,t.x],null,null),(n()(),t.rb(10,0,null,0,2,"ion-back-button",[["slot","start"]],null,[[null,"click"]],(function(n,l,o){var u=!0;return"click"===l&&(u=!1!==t.Cb(n,12).onClick(o)&&u),u}),c.C,c.b)),t.qb(11,49152,null,0,e.f,[t.h,t.k,t.x],null,null),t.qb(12,16384,null,0,e.g,[[2,e.hb],e.Ib],null,null),(n()(),t.rb(13,0,null,null,34,"ion-content",[],null,null,null,c.I,c.h)),t.qb(14,49152,null,0,e.t,[t.h,t.k,t.x],null,null),(n()(),t.rb(15,0,null,0,2,"div",[["class","login-logo-box"]],null,null,null,null,null)),(n()(),t.rb(16,0,null,null,1,"ion-img",[["class","login-logo"],["src","/assets/img/logo.png"]],null,null,null,c.M,c.l)),t.qb(17,49152,null,0,e.C,[t.h,t.k,t.x],{src:[0,"src"]},null),(n()(),t.rb(18,0,null,0,12,"ion-item",[["class","login-username"]],null,null,null,c.Q,c.p)),t.qb(19,49152,null,0,e.G,[t.h,t.k,t.x],null,null),(n()(),t.rb(20,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,c.R,c.q)),t.qb(21,49152,null,0,e.M,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Ib(22,0,["",""])),t.Eb(131072,h.i,[h.j,t.h]),(n()(),t.rb(24,0,null,0,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,o){var u=!0,e=n.component;return"ionBlur"===l&&(u=!1!==t.Cb(n,26)._handleBlurEvent(o.target)&&u),"ionChange"===l&&(u=!1!==t.Cb(n,26)._handleInputEvent(o.target)&&u),"ngModelChange"===l&&(u=!1!==(e.username=o)&&u),u}),c.P,c.o)),t.qb(25,49152,null,0,e.F,[t.h,t.k,t.x],{type:[0,"type"]},null),t.qb(26,16384,null,0,e.Mb,[t.k],null,null),t.Fb(1024,null,p.c,(function(n){return[n]}),[e.Mb]),t.qb(28,671744,null,0,p.f,[[8,null],[8,null],[8,null],[6,p.c]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,p.d,null,[p.f]),t.qb(30,16384,null,0,p.e,[[4,p.d]],null,null),(n()(),t.rb(31,0,null,0,12,"ion-item",[["class","login-password"]],null,null,null,c.Q,c.p)),t.qb(32,49152,null,0,e.G,[t.h,t.k,t.x],null,null),(n()(),t.rb(33,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,c.R,c.q)),t.qb(34,49152,null,0,e.M,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Ib(35,0,["",""])),t.Eb(131072,h.i,[h.j,t.h]),(n()(),t.rb(37,0,null,0,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,o){var u=!0,e=n.component;return"ionBlur"===l&&(u=!1!==t.Cb(n,39)._handleBlurEvent(o.target)&&u),"ionChange"===l&&(u=!1!==t.Cb(n,39)._handleInputEvent(o.target)&&u),"ngModelChange"===l&&(u=!1!==(e.password=o)&&u),u}),c.P,c.o)),t.qb(38,49152,null,0,e.F,[t.h,t.k,t.x],{type:[0,"type"]},null),t.qb(39,16384,null,0,e.Mb,[t.k],null,null),t.Fb(1024,null,p.c,(function(n){return[n]}),[e.Mb]),t.qb(41,671744,null,0,p.f,[[8,null],[8,null],[8,null],[6,p.c]],{model:[0,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,p.d,null,[p.f]),t.qb(43,16384,null,0,p.e,[[4,p.d]],null,null),(n()(),t.rb(44,0,null,0,3,"ion-button",[["class","login-btn"],["expand","block"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.doLogin()&&t),t}),c.D,c.c)),t.qb(45,49152,null,0,e.j,[t.h,t.k,t.x],{expand:[0,"expand"]},null),(n()(),t.Ib(46,0,["",""])),t.Eb(131072,h.i,[h.j,t.h])],(function(n,l){var o=l.component;n(l,3,0,"primary"),n(l,17,0,"/assets/img/logo.png"),n(l,21,0,"floating"),n(l,25,0,"text"),n(l,28,0,o.username),n(l,34,0,"floating"),n(l,38,0,"password"),n(l,41,0,o.password),n(l,45,0,"block")}),(function(n,l){n(l,6,0,t.Jb(l,6,0,t.Cb(l,7).transform("login.tile"))),n(l,22,0,t.Jb(l,22,0,t.Cb(l,23).transform("login.username"))),n(l,24,0,t.Cb(l,30).ngClassUntouched,t.Cb(l,30).ngClassTouched,t.Cb(l,30).ngClassPristine,t.Cb(l,30).ngClassDirty,t.Cb(l,30).ngClassValid,t.Cb(l,30).ngClassInvalid,t.Cb(l,30).ngClassPending),n(l,35,0,t.Jb(l,35,0,t.Cb(l,36).transform("login.password"))),n(l,37,0,t.Cb(l,43).ngClassUntouched,t.Cb(l,43).ngClassTouched,t.Cb(l,43).ngClassPristine,t.Cb(l,43).ngClassDirty,t.Cb(l,43).ngClassValid,t.Cb(l,43).ngClassInvalid,t.Cb(l,43).ngClassPending),n(l,46,0,t.Jb(l,46,0,t.Cb(l,47).transform("login.login")))}))}function k(n){return t.Kb(0,[(n()(),t.rb(0,0,null,null,1,"app-login",[],null,null,null,m,C)),t.qb(1,114688,null,0,r,[e.Fb,e.Nb,i.a,d.m,s.a],null,null)],(function(n,l){n(l,1,0)}),null)}var f=t.nb("app-login",r,k,{},{},[]),x=o("SVse"),v=o("/q54"),A=o("IP0z"),w=o("VDRc"),q=o("ura0"),y=o("Nhcz"),M=o("u9T3"),I=o("MfXf"),T=o("kCW2");o.d(l,"LoginPageModuleNgFactory",(function(){return j}));var j=t.ob(b,[],(function(n){return t.zb([t.Ab(512,t.j,t.Z,[[8,[g.a,f]],[3,t.j],t.v]),t.Ab(4608,x.l,x.k,[t.s,[2,x.z]]),t.Ab(4608,p.i,p.i,[]),t.Ab(4608,p.a,p.a,[]),t.Ab(5120,t.b,(function(n,l){return[v.j(n,l)]}),[x.c,t.z]),t.Ab(4608,e.a,e.a,[t.x,t.g]),t.Ab(4608,e.Hb,e.Hb,[e.a,t.j,t.p]),t.Ab(4608,e.Kb,e.Kb,[e.a,t.j,t.p]),t.Ab(1073742336,x.b,x.b,[]),t.Ab(1073742336,h.g,h.g,[]),t.Ab(1073742336,p.h,p.h,[]),t.Ab(1073742336,p.b,p.b,[]),t.Ab(1073742336,p.g,p.g,[]),t.Ab(1073742336,v.c,v.c,[]),t.Ab(1073742336,A.a,A.a,[]),t.Ab(1073742336,w.c,w.c,[]),t.Ab(1073742336,q.b,q.b,[]),t.Ab(1073742336,y.a,y.a,[]),t.Ab(1073742336,M.a,M.a,[[2,v.g],t.z]),t.Ab(1073742336,I.a,I.a,[]),t.Ab(1073742336,e.Db,e.Db,[]),t.Ab(1073742336,T.a,T.a,[]),t.Ab(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),t.Ab(1073742336,b,b,[]),t.Ab(1024,d.k,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);