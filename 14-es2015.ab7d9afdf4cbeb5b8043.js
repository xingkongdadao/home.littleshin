(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"vRU+":function(n,l,u){"use strict";u.r(l);var e=u("8Y7J"),t=u("mrSG"),o=u("ZZ/e"),i=u("ne0+"),r=u("7ErT"),s=u("DxIt"),b=u("EVkI");class a{constructor(n,l,u,e,t,o,i,r){this.loadingCtrl=n,this.toastCtrl=l,this.authService=u,this.router=e,this.storage=t,this.constantService=o,this.eventService=i,this.userService=r,this.userToken={password:"",username:""}}ngOnInit(){}doLogin(){null!=this.userToken.username?null!=this.userToken.password?this.authService.createToken(this.userToken).subscribe(n=>{this.storage.set("token",n.token).then(),this.constantService.setHeadersIncludeToken(n.token),this.userService.getUser(1,1,this.userToken.username).subscribe(n=>{this.storage.set("userInfo",n.results[0]).then(n=>{this.eventService.event.emit("login")})}),this.router.navigateByUrl("home/tabs/personal").then()},n=>{this.presentToast("\u7528\u6237\u540d\u6216\u5bc6\u7801\u8f93\u5165\u9519\u8bef").then(),localStorage.setItem("login","false"),console.log("\u767b\u9646\u4e0d\u5408\u6cd5"),console.log(n)}):this.presentToast("\u8bf7\u8f93\u5165\u5bc6\u7801").then():this.presentToast("\u8bf7\u8f93\u5165\u7528\u6237\u540d").then()}presentToast(n){return t.b(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:n,duration:1e3})).present()}))}}class g{}var c=u("pMnS"),h=u("oBZk"),d=u("iInd"),p=u("SVse"),k=u("TSSN"),m=u("s7LF"),f=u("xgBC"),v=e.pb({encapsulation:0,styles:[[".login-logo-box[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:center;justify-content:center;justify-items:center;padding:10px 0}.login-logo[_ngcontent-%COMP%]{width:60%;align-content:center}.login-password[_ngcontent-%COMP%], .login-username[_ngcontent-%COMP%]{padding:4px 8px}.login-btn[_ngcontent-%COMP%]{margin:20px 8px 10px;padding:0 8px}"]],data:{}});function C(n){return e.Mb(0,[(n()(),e.rb(0,0,null,null,21,"ion-header",[],null,null,null,h.S,h.m)),e.qb(1,49152,null,0,o.C,[e.h,e.k,e.x],null,null),(n()(),e.rb(2,0,null,0,19,"ion-toolbar",[["color","primary"]],null,null,null,h.lb,h.F)),e.qb(3,49152,null,0,o.Db,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.rb(4,0,null,0,6,"ion-button",[["slot","start"]],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==e.Db(n,6).onClick()&&t),"click"===l&&(t=!1!==e.Db(n,8).onClick(u)&&t),t}),h.J,h.d)),e.qb(5,49152,null,0,o.l,[e.h,e.k,e.x],null,null),e.qb(6,16384,null,0,d.n,[d.m,d.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Eb(7,1),e.qb(8,737280,null,0,o.Nb,[p.g,o.Kb,e.k,d.m,[2,d.n]],null,null),(n()(),e.Kb(9,0,["",""])),e.Fb(131072,k.i,[k.j,e.h]),(n()(),e.rb(11,0,null,0,3,"ion-title",[["class","ion-text-center"]],null,null,null,h.kb,h.E)),e.qb(12,49152,null,0,o.Bb,[e.h,e.k,e.x],null,null),(n()(),e.Kb(13,0,["",""])),e.Fb(131072,k.i,[k.j,e.h]),(n()(),e.rb(15,0,null,0,6,"ion-button",[["slot","end"]],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==e.Db(n,17).onClick()&&t),"click"===l&&(t=!1!==e.Db(n,19).onClick(u)&&t),t}),h.J,h.d)),e.qb(16,49152,null,0,o.l,[e.h,e.k,e.x],null,null),e.qb(17,16384,null,0,d.n,[d.m,d.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Eb(18,1),e.qb(19,737280,null,0,o.Nb,[p.g,o.Kb,e.k,d.m,[2,d.n]],null,null),(n()(),e.Kb(20,0,["",""])),e.Fb(131072,k.i,[k.j,e.h]),(n()(),e.rb(22,0,null,null,34,"ion-content",[],null,null,null,h.P,h.j)),e.qb(23,49152,null,0,o.v,[e.h,e.k,e.x],null,null),(n()(),e.rb(24,0,null,0,2,"div",[["class","login-logo-box"]],null,null,null,null,null)),(n()(),e.rb(25,0,null,null,1,"ion-img",[["class","login-logo"],["src","/assets/img/logo.png"]],null,null,null,h.U,h.o)),e.qb(26,49152,null,0,o.E,[e.h,e.k,e.x],{src:[0,"src"]},null),(n()(),e.rb(27,0,null,0,12,"ion-item",[["class","login-username"]],null,null,null,h.Z,h.s)),e.qb(28,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(n()(),e.rb(29,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,h.ab,h.u)),e.qb(30,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(n()(),e.Kb(31,0,["",""])),e.Fb(131072,k.i,[k.j,e.h]),(n()(),e.rb(33,0,null,0,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==e.Db(n,35)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Db(n,35)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(o.userToken.username=u)&&t),t}),h.X,h.r)),e.qb(34,49152,null,0,o.H,[e.h,e.k,e.x],{type:[0,"type"]},null),e.qb(35,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,m.e,(function(n){return[n]}),[o.Ob]),e.qb(37,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,m.f,null,[m.h]),e.qb(39,16384,null,0,m.g,[[4,m.f]],null,null),(n()(),e.rb(40,0,null,0,12,"ion-item",[["class","login-password"]],null,null,null,h.Z,h.s)),e.qb(41,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(n()(),e.rb(42,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,h.ab,h.u)),e.qb(43,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(n()(),e.Kb(44,0,["",""])),e.Fb(131072,k.i,[k.j,e.h]),(n()(),e.rb(46,0,null,0,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==e.Db(n,48)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Db(n,48)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(o.userToken.password=u)&&t),t}),h.X,h.r)),e.qb(47,49152,null,0,o.H,[e.h,e.k,e.x],{type:[0,"type"]},null),e.qb(48,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,m.e,(function(n){return[n]}),[o.Ob]),e.qb(50,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,m.f,null,[m.h]),e.qb(52,16384,null,0,m.g,[[4,m.f]],null,null),(n()(),e.rb(53,0,null,0,3,"ion-button",[["class","login-btn"],["expand","block"]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==n.component.doLogin()&&e),e}),h.J,h.d)),e.qb(54,49152,null,0,o.l,[e.h,e.k,e.x],{expand:[0,"expand"]},null),(n()(),e.Kb(55,0,["",""])),e.Fb(131072,k.i,[k.j,e.h])],(function(n,l){var u=l.component;n(l,3,0,"primary");var e=n(l,7,0,"/home/tabs");n(l,6,0,e),n(l,8,0);var t=n(l,18,0,"/register");n(l,17,0,t),n(l,19,0),n(l,26,0,"/assets/img/logo.png"),n(l,30,0,"floating"),n(l,34,0,"text"),n(l,37,0,u.userToken.username),n(l,43,0,"floating"),n(l,47,0,"password"),n(l,50,0,u.userToken.password),n(l,54,0,"block")}),(function(n,l){n(l,9,0,e.Lb(l,9,0,e.Db(l,10).transform("login.homePage"))),n(l,13,0,e.Lb(l,13,0,e.Db(l,14).transform("login.tile"))),n(l,20,0,e.Lb(l,20,0,e.Db(l,21).transform("login.register"))),n(l,31,0,e.Lb(l,31,0,e.Db(l,32).transform("login.username"))),n(l,33,0,e.Db(l,39).ngClassUntouched,e.Db(l,39).ngClassTouched,e.Db(l,39).ngClassPristine,e.Db(l,39).ngClassDirty,e.Db(l,39).ngClassValid,e.Db(l,39).ngClassInvalid,e.Db(l,39).ngClassPending),n(l,44,0,e.Lb(l,44,0,e.Db(l,45).transform("login.password"))),n(l,46,0,e.Db(l,52).ngClassUntouched,e.Db(l,52).ngClassTouched,e.Db(l,52).ngClassPristine,e.Db(l,52).ngClassDirty,e.Db(l,52).ngClassValid,e.Db(l,52).ngClassInvalid,e.Db(l,52).ngClassPending),n(l,55,0,e.Lb(l,55,0,e.Db(l,56).transform("login.login")))}))}function x(n){return e.Mb(0,[(n()(),e.rb(0,0,null,null,1,"app-login",[],null,null,null,C,v)),e.qb(1,114688,null,0,a,[o.Hb,o.Pb,i.a,d.m,f.b,r.a,b.a,s.a],null,null)],(function(n,l){n(l,1,0)}),null)}var B=e.nb("app-login",a,x,{},{},[]),D=u("/q54"),q=u("IP0z"),w=u("VDRc"),y=u("ura0"),T=u("Nhcz"),M=u("u9T3"),j=u("MfXf"),S=u("kCW2");u.d(l,"LoginPageModuleNgFactory",(function(){return I}));var I=e.ob(g,[],(function(n){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[c.a,B]],[3,e.j],e.v]),e.Bb(4608,p.l,p.k,[e.s,[2,p.z]]),e.Bb(4608,m.l,m.l,[]),e.Bb(4608,m.c,m.c,[]),e.Bb(5120,e.b,(function(n,l){return[D.j(n,l)]}),[p.c,e.z]),e.Bb(4608,o.b,o.b,[e.x,e.g]),e.Bb(4608,o.Jb,o.Jb,[o.b,e.j,e.p]),e.Bb(4608,o.Mb,o.Mb,[o.b,e.j,e.p]),e.Bb(1073742336,p.b,p.b,[]),e.Bb(1073742336,k.g,k.g,[]),e.Bb(1073742336,m.k,m.k,[]),e.Bb(1073742336,m.d,m.d,[]),e.Bb(1073742336,m.j,m.j,[]),e.Bb(1073742336,D.c,D.c,[]),e.Bb(1073742336,q.a,q.a,[]),e.Bb(1073742336,w.c,w.c,[]),e.Bb(1073742336,y.b,y.b,[]),e.Bb(1073742336,T.a,T.a,[]),e.Bb(1073742336,M.a,M.a,[[2,D.g],e.z]),e.Bb(1073742336,j.a,j.a,[]),e.Bb(1073742336,o.Fb,o.Fb,[]),e.Bb(1073742336,S.a,S.a,[]),e.Bb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),e.Bb(1073742336,g,g,[]),e.Bb(1024,d.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);