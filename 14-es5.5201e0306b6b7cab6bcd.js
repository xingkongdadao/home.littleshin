(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{aAsz:function(t,n,e){"use strict";e.r(n);var o=e("CcnG"),i=function(){return function(){}}(),r=e("pMnS"),l=e("oBZk"),a=e("ZZ/e"),u=e("Ip0R"),s=e("ZYCi"),c=e("fjz4"),d=function(){function t(t,n){this.routerService=t,this.translateService=n,this.appPages=[{title:this.translateService.instant("admin.personal"),url:this.routerService.personal,icon:"person"},{title:this.translateService.instant("admin.dashboard"),url:this.routerService.adminDashboard,icon:"home"},{title:this.translateService.instant("admin.goods-category-list"),url:this.routerService.adminGoodsCategoryList,icon:"list"},{title:this.translateService.instant("admin.goods-info-list"),url:this.routerService.adminGoodsInfoList,icon:"list"},{title:this.translateService.instant("admin.goods-sku-list"),url:this.routerService.adminGoodsSkuList,icon:"list"},{title:this.translateService.instant("admin.goods-in-list"),url:this.routerService.adminGoodsInList,icon:"list"},{title:this.translateService.instant("admin.goods-out-list"),url:this.routerService.adminGoodsOutList,icon:"list"},{title:this.translateService.instant("admin.shop-list"),url:this.routerService.adminShopList,icon:"list"}]}return t.prototype.ngOnInit=function(){},t.prototype.toNavigate=function(t){this.routerService.toUrl(t).then()},t}(),h=e("A7o+"),g=o.rb({encapsulation:0,styles:[[""]],data:{}});function f(t){return o.Pb(0,[(t()(),o.tb(0,0,null,null,8,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,l.ub,l.B)),o.sb(1,49152,null,0,a.T,[o.h,o.k,o.z],null,null),(t()(),o.tb(2,0,null,0,6,"ion-item",[],null,[[null,"click"]],(function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.toNavigate(t.context.$implicit.url)&&o),o}),l.pb,l.r)),o.sb(3,49152,null,0,a.I,[o.h,o.k,o.z],null,null),(t()(),o.tb(4,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,l.hb,l.n)),o.sb(5,49152,null,0,a.D,[o.h,o.k,o.z],{name:[0,"name"]},null),(t()(),o.tb(6,0,null,0,2,"ion-label",[],null,null,null,l.qb,l.w)),o.sb(7,49152,null,0,a.O,[o.h,o.k,o.z],null,null),(t()(),o.Nb(8,0,[" "," "]))],(function(t,n){t(n,5,0,n.context.$implicit.icon)}),(function(t,n){t(n,8,0,n.context.$implicit.title)}))}function b(t){return o.Pb(0,[(t()(),o.tb(0,0,null,null,18,"ion-split-pane",[["contentId","main-content"]],null,null,null,l.Fb,l.L)),o.sb(1,49152,null,0,a.ub,[o.h,o.k,o.z],{contentId:[0,"contentId"]},null),(t()(),o.tb(2,0,null,0,14,"ion-menu",[["contentId","main-content"],["type","overlay"]],null,null,null,l.vb,l.z)),o.sb(3,49152,null,0,a.R,[o.h,o.k,o.z],{contentId:[0,"contentId"],type:[1,"type"]},null),(t()(),o.tb(4,0,null,0,6,"ion-header",[],null,null,null,l.gb,l.m)),o.sb(5,49152,null,0,a.C,[o.h,o.k,o.z],null,null),(t()(),o.tb(6,0,null,0,4,"ion-toolbar",[],null,null,null,l.Nb,l.T)),o.sb(7,49152,null,0,a.Db,[o.h,o.k,o.z],null,null),(t()(),o.tb(8,0,null,0,2,"ion-title",[],null,null,null,l.Lb,l.R)),o.sb(9,49152,null,0,a.Bb,[o.h,o.k,o.z],null,null),(t()(),o.Nb(-1,0,["Menu"])),(t()(),o.tb(11,0,null,0,5,"ion-content",[],null,null,null,l.db,l.j)),o.sb(12,49152,null,0,a.v,[o.h,o.k,o.z],null,null),(t()(),o.tb(13,0,null,0,3,"ion-list",[],null,null,null,l.sb,l.x)),o.sb(14,49152,null,0,a.P,[o.h,o.k,o.z],null,null),(t()(),o.ib(16777216,null,0,1,null,f)),o.sb(16,278528,null,0,u.k,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(t()(),o.tb(17,16777216,null,0,1,"ion-router-outlet",[["id","main-content"]],null,null,null,null,null)),o.sb(18,212992,null,0,a.jb,[s.b,o.O,o.j,[8,null],[8,null],a.d,a.Jb,u.h,o.k,s.m,o.z,s.a,[3,a.jb]],null,null)],(function(t,n){var e=n.component;t(n,1,0,"main-content"),t(n,3,0,"main-content","overlay"),t(n,16,0,e.appPages),t(n,18,0)}),null)}function p(t){return o.Pb(0,[(t()(),o.tb(0,0,null,null,1,"app-admin",[],null,null,null,b,g)),o.sb(1,114688,null,0,d,[c.a,h.j],null,null)],(function(t,n){t(n,1,0)}),null)}var v=o.pb("app-admin",d,p,{},{},[]),y=e("dnTq"),m=e("iw74"),S=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),I=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),C=e("xWuP"),w=e("w8xc"),L=e("7ErT"),A=e("gIcY"),T=function(){function t(t,n){this.goodsCategoryService=t,this.fb=n}return t.prototype.initViewService=function(){this.initForm(),this.getCategoryList()},t.prototype.initForm=function(){this.formGroup=this.fb.group({name:["",A.o.required],name_vn:[""],code:[""],category_type:[],parent_category:[],is_tab:[!1],desc:[],category_picture:[]})},t.prototype.getCategoryList=function(){var t=this;this.goodsCategoryService.getGoodsCategoryList().subscribe((function(n){t.goodsCategoryList=n.results}))},t.prototype.onChange=function(t){if(t.target.files.length>0){var n=t.target.files[0];this.formGroup.get("category_picture").setValue(n)}},t.prototype.onSubmit=function(){var t=new FormData;t.append("name",this.formGroup.get("name").value),t.append("name_vn",this.formGroup.get("name_vn").value),t.append("code",this.formGroup.get("code").value),t.append("category_type",this.formGroup.get("category_type").value),t.append("parent_category",this.formGroup.get("parent_category").value),t.append("is_tab",this.formGroup.get("is_tab").value),t.append("desc",this.formGroup.get("desc").value),t.append("category_picture",this.formGroup.get("category_picture").value),this.goodsCategoryService.addGoodsCategory(t).subscribe((function(){console.log("\u6dfb\u52a0\u5546\u54c1\u7c7b\u522b\u6210\u529f")}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(w.a),o.Tb(A.d))},token:t,providedIn:"root"}),t}(),D=function(){function t(){}return t.forChild=function(){return{ngModule:t,providers:[S,I,C.a,T]}},t}(),G=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),P=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),k=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),V=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),_=function(){function t(t,n,e){this.storage=t,this.loginViewService=n,this.routerService=e}return t.prototype.canActivate=function(){var t=this;return this.storage.get("userInfo").then((function(n){return t.loginViewService.userInfo=n,!(!t.loginViewService.userInfo||!t.loginViewService.userInfo.is_staff)||(t.routerService.toLogin().then(),!1)}))},t.ngInjectableDef=o.Sb({factory:function(){return new t(o.Tb(m.b),o.Tb(y.a),o.Tb(c.a))},token:t,providedIn:"root"}),t}(),j=function(){return e.e(27).then(e.bind(null,"ZIXW")).then((function(t){return t.DashboardPageModuleNgFactory}))},F=function(){return Promise.all([e.e(1),e.e(0),e.e(17)]).then(e.bind(null,"8FR7")).then((function(t){return t.AdminCategoryListPageModuleNgFactory}))},M=function(){return Promise.all([e.e(1),e.e(20)]).then(e.bind(null,"ajhP")).then((function(t){return t.AdminGoodsInfoListPageModuleNgFactory}))},x=function(){return Promise.all([e.e(1),e.e(22)]).then(e.bind(null,"RbhX")).then((function(t){return t.AdminGoodsSkuListPageModuleNgFactory}))},N=function(){return Promise.all([e.e(1),e.e(19)]).then(e.bind(null,"L++q")).then((function(t){return t.AdminGoodsInListPageModuleNgFactory}))},z=function(){return Promise.all([e.e(1),e.e(21)]).then(e.bind(null,"+G94")).then((function(t){return t.AdminGoodsOutListPageModuleNgFactory}))},q=function(){return Promise.all([e.e(1),e.e(26)]).then(e.bind(null,"bMr1")).then((function(t){return t.AdminUsersListPageModuleNgFactory}))},E=function(){return Promise.all([e.e(1),e.e(0),e.e(15)]).then(e.bind(null,"T5oq")).then((function(t){return t.AdminCategoryAddPageModuleNgFactory}))},O=function(){return e.e(18).then(e.bind(null,"4wN7")).then((function(t){return t.AdminCategoryUpdatePageModuleNgFactory}))},Z=function(){return Promise.all([e.e(1),e.e(0),e.e(16)]).then(e.bind(null,"7nlW")).then((function(t){return t.AdminCategoryEditPageModuleNgFactory}))},R=function(){return Promise.all([e.e(1),e.e(0),e.e(25)]).then(e.bind(null,"hM3s")).then((function(t){return t.AdminShopListPageModuleNgFactory}))},B=function(){return Promise.all([e.e(1),e.e(0),e.e(23)]).then(e.bind(null,"tNLE")).then((function(t){return t.AdminShopAddPageModuleNgFactory}))},W=function(){return Promise.all([e.e(1),e.e(0),e.e(24)]).then(e.bind(null,"/a9r")).then((function(t){return t.AdminShopEditPageModuleNgFactory}))},J=function(){return function(){}}();e.d(n,"AdminModuleNgFactory",(function(){return U}));var U=o.qb(i,[],(function(t){return o.Cb([o.Db(512,o.j,o.bb,[[8,[r.a,v]],[3,o.j],o.x]),o.Db(4608,u.n,u.m,[o.u,[2,u.B]]),o.Db(4608,a.b,a.b,[o.z,o.g]),o.Db(4608,a.Ib,a.Ib,[a.b,o.j,o.q]),o.Db(4608,a.Mb,a.Mb,[a.b,o.j,o.q]),o.Db(4608,S,S,[m.b,y.a,c.a]),o.Db(4608,I,I,[m.b,y.a,c.a]),o.Db(4608,C.a,C.a,[w.a,c.a,L.a,h.j,a.a]),o.Db(4608,T,T,[w.a,A.d]),o.Db(1073742336,u.b,u.b,[]),o.Db(1073742336,a.Fb,a.Fb,[]),o.Db(1073742336,D,D,[]),o.Db(1073742336,s.o,s.o,[[2,s.t],[2,s.m]]),o.Db(1073742336,J,J,[]),o.Db(1073742336,i,i,[]),o.Db(1024,s.k,(function(){return[[{path:"",component:d,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:j},{path:"admin-category-list",canActivate:[S],loadChildren:F},{path:"admin-goods-info-list",canActivate:[G],loadChildren:M},{path:"admin-goods-sku-list",canActivate:[P],loadChildren:x},{path:"admin-goods-in-list",canActivate:[k],loadChildren:N},{path:"admin-goods-out-list",canActivate:[V],loadChildren:z},{path:"admin-users-list",canActivate:[_],loadChildren:q},{path:"admin-category-add",loadChildren:E},{path:"admin-category-update",loadChildren:O},{path:"admin-category-edit/:id",loadChildren:Z},{path:"admin-shop-list",canActivate:[I],loadChildren:R},{path:"admin-shop-add",canActivate:[I],loadChildren:B},{path:"admin-shop-edit/:id",loadChildren:W}]}]]}),[])])}))},xWuP:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var o=e("mrSG"),i=e("w8xc"),r=e("fjz4"),l=e("7ErT"),a=e("ZZ/e"),u=e("CcnG"),s=e("A7o+"),c=function(){function t(t,n,e,o,i){this.goodsCategoryService=t,this.routerService=n,this.constantService=e,this.translateService=o,this.actionSheetController=i,this.goodsCategoryList=[],this.scrollDisabled=!1,this.loading=!1,this.pageSize=20,this.pageIndex=1}return t.prototype.initAdminCategoryListView=function(){this.pageIndex=1,this.goodsCategoryList=[],this.loadData()},t.prototype.loadData=function(t){var n=this;this.loading=!0,setTimeout((function(){n.goodsCategoryService.getGoodsCategoryList(n.pageIndex).subscribe((function(e){n.pageIndex=n.pageIndex+1;for(var o=0,i=e.results;o<i.length;o++)n.goodsCategoryList.push(i[o]);n.loading=!1,n.goodsCategoryList.length===e.count&&(n.scrollDisabled=!0),t&&t.target.complete()}))}),500)},t.prototype.toGoodsInfoList=function(t){this.routerService.toAdminGoodsInfoList().then()},t.prototype.toCategoryAdd=function(){this.routerService.toAdminGoodsCategoryAdd().then()},t.prototype.toCategoryEdit=function(t){this.selectGoodsCategory=t,this.routerService.toAdminCategoryEdit(t.id).then()},t.prototype.doRefresh=function(t){var n=this;this.loading=!0,this.pageIndex=1,setTimeout((function(){n.goodsCategoryService.getGoodsCategoryList(n.pageIndex).subscribe((function(e){n.pageIndex=n.pageIndex+1,n.goodsCategoryList=e.results,n.scrollDisabled=n.goodsCategoryList.length===e.count,n.loading=!1,t.target.complete(),n.constantService.presentToast("\u5237\u65b0\u6210\u529f\uff01").then()}))}),200)},t.prototype.deleteGoodsCategory=function(t){var n=this;this.goodsCategoryService.deleteGoodsCategory(t.id).subscribe((function(e){n.goodsCategoryList=n.goodsCategoryList.filter((function(n){if(n!==t)return n})),n.constantService.presentToast(n.translateService.instant("admin-category-list.deleteSuccess")).then()}))},t.prototype.presentActionSheet=function(t){return o.b(this,void 0,void 0,(function(){var n=this;return o.e(this,(function(e){switch(e.label){case 0:return[4,this.actionSheetController.create({header:t.name+"("+t.name_vn+")",buttons:[{text:this.translateService.instant("admin-category-list.edit"),icon:"create",handler:function(){n.toCategoryEdit(t)}},{text:this.translateService.instant("admin-category-list.delete"),role:"destructive",icon:"trash",handler:function(){n.deleteGoodsCategory(t)}},{text:this.translateService.instant("admin-category-list.cancel"),icon:"close",role:"cancel"}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},t.ngInjectableDef=u.Sb({factory:function(){return new t(u.Tb(i.a),u.Tb(r.a),u.Tb(l.a),u.Tb(s.j),u.Tb(a.a))},token:t,providedIn:"root"}),t}()}}]);