(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"vRU+":function(n,l,e){"use strict";e.r(l);var u=e("8Y7J"),t=e("mrSG"),o=e("ZZ/e"),i=e("ne0+"),r=e("7ErT"),s=e("DxIt"),b=e("EVkI");class a{constructor(n,l,e,u,t,o,i,r){this.loadingCtrl=n,this.toastCtrl=l,this.authService=e,this.router=u,this.storage=t,this.constantService=o,this.eventService=i,this.userService=r,this.userToken={password:"",username:""}}ngOnInit(){}doLogin(){null!=this.userToken.username?null!=this.userToken.password?this.authService.createToken(this.userToken).subscribe(n=>{this.storage.set("token",n.token).then(),this.constantService.setHeadersIncludeToken(n.token),this.userService.getUser(1,1,this.userToken.username).subscribe(n=>{this.storage.set("userInfo",n.results[0]).then(n=>{this.eventService.event.emit("login")})}),this.router.navigateByUrl("home/tabs/personal").then()},n=>{this.presentToast("\u7528\u6237\u540d\u6216\u5bc6\u7801\u8f93\u5165\u9519\u8bef").then(),localStorage.setItem("login","false"),console.log("\u767b\u9646\u4e0d\u5408\u6cd5"),console.log(n)}):this.presentToast("\u8bf7\u8f93\u5165\u5bc6\u7801").then():this.presentToast("\u8bf7\u8f93\u5165\u7528\u6237\u540d").then()}presentToast(n){return t.b(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:n,duration:1e3})).present()}))}}class g{}var c=e("pMnS"),h=e("oBZk"),d=e("iInd"),p=e("SVse"),k=e("TSSN"),m=e("s7LF"),f=e("xgBC"),v=u.pb({encapsulation:0,styles:[[".login-logo-box[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:center;justify-content:center;justify-items:center;padding:10px 0}.login-logo[_ngcontent-%COMP%]{width:60%;align-content:center}.login-password[_ngcontent-%COMP%], .login-username[_ngcontent-%COMP%]{padding:4px 8px}.login-btn[_ngcontent-%COMP%]{margin:20px 8px 10px;padding:0 8px}"]],data:{}});function x(n){return u.Mb(0,[(n()(),u.rb(0,0,null,null,21,"ion-header",[],null,null,null,h.W,h.m)),u.qb(1,49152,null,0,o.C,[u.h,u.k,u.x],null,null),(n()(),u.rb(2,0,null,0,19,"ion-toolbar",[["color","primary"]],null,null,null,h.tb,h.J)),u.qb(3,49152,null,0,o.Db,[u.h,u.k,u.x],{color:[0,"color"]},null),(n()(),u.rb(4,0,null,0,6,"ion-button",[["slot","start"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==u.Db(n,6).onClick()&&t),"click"===l&&(t=!1!==u.Db(n,8).onClick(e)&&t),t}),h.N,h.d)),u.qb(5,49152,null,0,o.l,[u.h,u.k,u.x],null,null),u.qb(6,16384,null,0,d.n,[d.m,d.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Eb(7,1),u.qb(8,737280,null,0,o.Ob,[p.g,o.Kb,u.k,d.m,[2,d.n]],null,null),(n()(),u.Kb(9,0,["",""])),u.Fb(131072,k.i,[k.j,u.h]),(n()(),u.rb(11,0,null,0,3,"ion-title",[["class","ion-text-center"]],null,null,null,h.sb,h.I)),u.qb(12,49152,null,0,o.Bb,[u.h,u.k,u.x],null,null),(n()(),u.Kb(13,0,["",""])),u.Fb(131072,k.i,[k.j,u.h]),(n()(),u.rb(15,0,null,0,6,"ion-button",[["slot","end"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==u.Db(n,17).onClick()&&t),"click"===l&&(t=!1!==u.Db(n,19).onClick(e)&&t),t}),h.N,h.d)),u.qb(16,49152,null,0,o.l,[u.h,u.k,u.x],null,null),u.qb(17,16384,null,0,d.n,[d.m,d.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Eb(18,1),u.qb(19,737280,null,0,o.Ob,[p.g,o.Kb,u.k,d.m,[2,d.n]],null,null),(n()(),u.Kb(20,0,["",""])),u.Fb(131072,k.i,[k.j,u.h]),(n()(),u.rb(22,0,null,null,34,"ion-content",[],null,null,null,h.T,h.j)),u.qb(23,49152,null,0,o.v,[u.h,u.k,u.x],null,null),(n()(),u.rb(24,0,null,0,2,"div",[["class","login-logo-box"]],null,null,null,null,null)),(n()(),u.rb(25,0,null,null,1,"ion-img",[["class","login-logo"],["src","/assets/img/logo.png"]],null,null,null,h.Y,h.o)),u.qb(26,49152,null,0,o.E,[u.h,u.k,u.x],{src:[0,"src"]},null),(n()(),u.rb(27,0,null,0,12,"ion-item",[["class","login-username"]],null,null,null,h.gb,h.s)),u.qb(28,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.rb(29,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,h.hb,h.x)),u.qb(30,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Kb(31,0,["",""])),u.Fb(131072,k.i,[k.j,u.h]),(n()(),u.rb(33,0,null,0,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Db(n,35)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Db(n,35)._handleInputEvent(e.target)&&t),"ngModelChange"===l&&(t=!1!==(o.userToken.username=e)&&t),t}),h.bb,h.r)),u.qb(34,49152,null,0,o.H,[u.h,u.k,u.x],{type:[0,"type"]},null),u.qb(35,16384,null,0,o.Pb,[u.k],null,null),u.Hb(1024,null,m.e,(function(n){return[n]}),[o.Pb]),u.qb(37,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,m.f,null,[m.h]),u.qb(39,16384,null,0,m.g,[[4,m.f]],null,null),(n()(),u.rb(40,0,null,0,12,"ion-item",[["class","login-password"]],null,null,null,h.gb,h.s)),u.qb(41,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.rb(42,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,h.hb,h.x)),u.qb(43,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Kb(44,0,["",""])),u.Fb(131072,k.i,[k.j,u.h]),(n()(),u.rb(46,0,null,0,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Db(n,48)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Db(n,48)._handleInputEvent(e.target)&&t),"ngModelChange"===l&&(t=!1!==(o.userToken.password=e)&&t),t}),h.bb,h.r)),u.qb(47,49152,null,0,o.H,[u.h,u.k,u.x],{type:[0,"type"]},null),u.qb(48,16384,null,0,o.Pb,[u.k],null,null),u.Hb(1024,null,m.e,(function(n){return[n]}),[o.Pb]),u.qb(50,671744,null,0,m.h,[[8,null],[8,null],[8,null],[6,m.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Hb(2048,null,m.f,null,[m.h]),u.qb(52,16384,null,0,m.g,[[4,m.f]],null,null),(n()(),u.rb(53,0,null,0,3,"ion-button",[["class","login-btn"],["expand","block"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.doLogin()&&u),u}),h.N,h.d)),u.qb(54,49152,null,0,o.l,[u.h,u.k,u.x],{expand:[0,"expand"]},null),(n()(),u.Kb(55,0,["",""])),u.Fb(131072,k.i,[k.j,u.h])],(function(n,l){var e=l.component;n(l,3,0,"primary");var u=n(l,7,0,"/home/tabs");n(l,6,0,u),n(l,8,0);var t=n(l,18,0,"/register");n(l,17,0,t),n(l,19,0),n(l,26,0,"/assets/img/logo.png"),n(l,30,0,"floating"),n(l,34,0,"text"),n(l,37,0,e.userToken.username),n(l,43,0,"floating"),n(l,47,0,"password"),n(l,50,0,e.userToken.password),n(l,54,0,"block")}),(function(n,l){n(l,9,0,u.Lb(l,9,0,u.Db(l,10).transform("login.homePage"))),n(l,13,0,u.Lb(l,13,0,u.Db(l,14).transform("login.tile"))),n(l,20,0,u.Lb(l,20,0,u.Db(l,21).transform("login.register"))),n(l,31,0,u.Lb(l,31,0,u.Db(l,32).transform("login.username"))),n(l,33,0,u.Db(l,39).ngClassUntouched,u.Db(l,39).ngClassTouched,u.Db(l,39).ngClassPristine,u.Db(l,39).ngClassDirty,u.Db(l,39).ngClassValid,u.Db(l,39).ngClassInvalid,u.Db(l,39).ngClassPending),n(l,44,0,u.Lb(l,44,0,u.Db(l,45).transform("login.password"))),n(l,46,0,u.Db(l,52).ngClassUntouched,u.Db(l,52).ngClassTouched,u.Db(l,52).ngClassPristine,u.Db(l,52).ngClassDirty,u.Db(l,52).ngClassValid,u.Db(l,52).ngClassInvalid,u.Db(l,52).ngClassPending),n(l,55,0,u.Lb(l,55,0,u.Db(l,56).transform("login.login")))}))}function C(n){return u.Mb(0,[(n()(),u.rb(0,0,null,null,1,"app-login",[],null,null,null,x,v)),u.qb(1,114688,null,0,a,[o.Hb,o.Qb,i.a,d.m,f.b,r.a,b.a,s.a],null,null)],(function(n,l){n(l,1,0)}),null)}var B=u.nb("app-login",a,C,{},{},[]),D=e("/q54"),q=e("IP0z"),w=e("VDRc"),T=e("ura0"),y=e("Nhcz"),j=e("u9T3"),M=e("MfXf"),P=e("kCW2");e.d(l,"LoginPageModuleNgFactory",(function(){return I}));var I=u.ob(g,[],(function(n){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[c.a,B]],[3,u.j],u.v]),u.Bb(4608,p.l,p.k,[u.s,[2,p.z]]),u.Bb(4608,m.l,m.l,[]),u.Bb(4608,m.c,m.c,[]),u.Bb(5120,u.b,(function(n,l){return[D.j(n,l)]}),[p.c,u.z]),u.Bb(4608,o.b,o.b,[u.x,u.g]),u.Bb(4608,o.Jb,o.Jb,[o.b,u.j,u.p]),u.Bb(4608,o.Nb,o.Nb,[o.b,u.j,u.p]),u.Bb(1073742336,p.b,p.b,[]),u.Bb(1073742336,k.g,k.g,[]),u.Bb(1073742336,m.k,m.k,[]),u.Bb(1073742336,m.d,m.d,[]),u.Bb(1073742336,m.j,m.j,[]),u.Bb(1073742336,D.c,D.c,[]),u.Bb(1073742336,q.a,q.a,[]),u.Bb(1073742336,w.c,w.c,[]),u.Bb(1073742336,T.b,T.b,[]),u.Bb(1073742336,y.a,y.a,[]),u.Bb(1073742336,j.a,j.a,[[2,D.g],u.z]),u.Bb(1073742336,M.a,M.a,[]),u.Bb(1073742336,o.Fb,o.Fb,[]),u.Bb(1073742336,P.a,P.a,[]),u.Bb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),u.Bb(1073742336,g,g,[]),u.Bb(1024,d.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);